# BIN/1.js 接口文档

## 概览

- 来源文件: `BIN/1.js`（webpack 打包后的前端主包）
- 请求封装: `1de7` 模块（axios 实例 + 请求/响应拦截）
- 默认 baseURL: `"/"`；可通过 `config.initUrl` 覆盖
- 默认加密行为:
  - `config.noEncrypt === true`：原样发送 `data`
  - `config.useEncrypt === false`：发送 `{ sdData: <加密后的数据> }`
  - 其他情况（默认）：发送 `{ data: <加密后的数据> }`
- 自动补充字段: 除 `/ShengDaH5BaseQuery/getCurrentTimeMillis` 外，都会先请求该接口并把 `sdTimestamp` 注入到请求 `data`
- 字段清理: `orderNo` / `orderId` / `h5OrderId` 中的空格会被替换成 `+`
- 通用响应处理:
  - 期望字段: `resultCode`、`resultDesc` / `message`
  - `resultCode === "fail"` 会提示错误文案
  - `resultCode === "401"` 会清理 `localStorage.userInfo`
  - 以下错误码会跳转 `/failure`:
    `USER_AUTHORIZE_FAIL`, `ORIGINAL_REQ_BODY_IS_NULL`,
    `REQ_BODY_ENCRYPT_FAIL`, `NETWORK_TIMEOUT`

## 接口清单

### 基础时间/航班/范围

| 接口 | Method | 用处 | 加密/备注 |
| --- | --- | --- | --- |
| `/ShengDaH5BaseQuery/biz/reservation/queryBeijingTime` | POST | 获取北京时间（业务口径） | 默认加密；参数由调用方传入 |
| `/ShengDaH5BaseQuery/geServerTime` | GET | 获取服务器时间 | 默认加密 |
| `/ShengDaH5BaseQuery/getCurrentTimeMillis` | GET | 获取当前时间毫秒；用于请求封装补 `sdTimestamp` | 默认加密；被请求封装用于 `sdTimestamp` |
| `/ShengDaH5BaseQuery/biz/reservation/queryOutLandAirport` | POST | 查询境外机场/航站信息 | 默认加密 |
| `/ShengDaH5BaseQuery/biz/reservation/checkScope` | POST | 校验服务范围/是否在可服务区域 | 默认加密 |
| `/ShengDaH5BaseQuery/biz/miYou/queryAutoComplete` | POST | 地址/地点自动补全 | 默认加密 |
| `/ShengDaH5BaseQuery/biz/miYou/queryPathPlan` | POST | 路线规划 | 默认加密 |
| `/ShengDaH5BaseQuery/biz/flight/query` | POST | 航班查询 | 默认加密 |

### 预约/订单相关

| 接口 | Method | 用处 | 加密/备注 |
| --- | --- | --- | --- |
| `/ShengDaHXZHJSJHD/bespeak/cancel` | POST | 取消预约/订单 | `config.useEncrypt = false` |
| `/ShengDaHXZHJSJHD/bespeak/createJWJSOrder` | POST | 创建接送机/接送站订单 | `config.useEncrypt = false` |
| `/ShengDaHXZHJSJHD/bespeak/updateJWJSOrder` | POST | 更新接送机/接送站订单 | `config.useEncrypt = false` |

### 百度位置服务

| 接口 | Method | 用处 | 加密/备注 |
| --- | --- | --- | --- |
| `/ShengDaOrderBespeak/baidu/addressDistance` | POST | 计算距离 | 默认加密 |
| `/ShengDaOrderBespeak/baidu/addressSuggestion` | POST | 地址联想/关键词建议 | 默认加密 |
| `/ShengDaOrderBespeak/baidu/geoCiderAddress` | POST | 地址解析/纠偏（推测为地理编码） | 默认加密 |
| `/ShengDaOrderBespeak/baidu/parseIpAddress` | POST | 通过 IP 解析地理位置 | `config.initUrl = "https://h5.schengle.com/"` |
| `/ShengDaOrderBespeak/baidu/locationGeocoding` | POST | 坐标转地址（逆地理编码） | 默认加密 |

### 外部 CSP 接口（常量）
>
> 这些 URL 在 `fd25` 模块中作为常量出现，实际取值被覆盖为生产域名。

| 接口 | 用处 |
| --- | --- |
| `http://csp.schengle.com/csp-web-website/webArea/getProList` | 省份列表 |
| `http://csp.schengle.com/csp-web-website/webArea/getAreaList` | 地区列表 |
| `http://csp.schengle.com/csp-web-website/webShop/shopList` | 门店列表 |

## 备注

- 本文档只覆盖 `BIN/1.js` 中直接出现的 HTTP 接口路径；路由 `path`（如 `/vipHall`、`/order/...`）属于前端页面路由，不属于接口范畴。
